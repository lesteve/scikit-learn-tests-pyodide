(node:402701) ExperimentalWarning: Fetch is an experimental feature. This feature could change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
warning: no blob constructor, cannot create blobs with mimetypes
warning: no BlobBuilder
Loading distutils
Loaded distutils
Python initialization complete
(node:402701) ExperimentalWarning: buffer.Blob is an experimental feature. This feature could change at any time
distutils already loaded from default channel
Loading micropip, pyparsing, packaging
Loaded micropip, packaging, pyparsing
distutils already loaded from default channel
Loading scikit-learn, scipy, numpy, joblib, threadpoolctl, clapack
Loaded clapack, joblib, threadpoolctl, numpy, scikit-learn, scipy
distutils already loaded from default channel
pyparsing already loaded from default channel
Loading pytest, atomicwrites, attrs, six, more-itertools, pluggy, py, setuptools, iniconfig
Loaded pytest, atomicwrites, six, attrs, more-itertools, pluggy, py, iniconfig, setuptools
Loading tomli
Loaded tomli
pytest command: pytest.main("--pyargs sklearn.tree.tests -v".split())
[1m============================= test session starts ==============================[0m
platform emscripten -- Python 3.10.2, pytest-7.1.2, pluggy-1.0.0 -- 
cachedir: .pytest_cache
rootdir: /home/pyodide
[1mcollecting ... [0m[1mcollecting 0 items                                                             [0m[1mcollecting 438 items                                                           [0m[1mcollected 438 items                                                            [0m

test_export.py::test_graphviz_toy [32mPASSED[0m[32m                                 [  0%][0m
test_export.py::test_graphviz_errors [32mPASSED[0m[32m                              [  0%][0m
test_export.py::test_friedman_mse_in_graphviz [32mPASSED[0m[32m                     [  0%][0m
test_export.py::test_precision [32mPASSED[0m[32m                                    [  0%][0m
test_export.py::test_export_text_errors [32mPASSED[0m[32m                           [  1%][0m
test_export.py::test_export_text [32mPASSED[0m[32m                                  [  1%][0m
test_export.py::test_plot_tree_entropy [33mSKIPPED[0m (could not import 'ma...)[32m [  1%][0m
test_export.py::test_plot_tree_gini [33mSKIPPED[0m (could not import 'matpl...)[32m [  1%][0m
test_export.py::test_not_fitted_tree [33mSKIPPED[0m (could not import 'matp...)[32m [  2%][0m
test_reingold_tilford.py::test_buchheim[tree0-3] [32mPASSED[0m[32m                  [  2%][0m
test_reingold_tilford.py::test_buchheim[tree1-9] [32mPASSED[0m[32m                  [  2%][0m
test_tree.py::test_classification_toy [32mPASSED[0m[32m                             [  2%][0m
test_tree.py::test_weighted_classification_toy [32mPASSED[0m[32m                    [  2%][0m
test_tree.py::test_regression_toy[squared_error-DecisionTreeRegressor] [32mPASSED[0m[32m [  3%][0m
test_tree.py::test_regression_toy[squared_error-ExtraTreeRegressor] [32mPASSED[0m[32m [  3%][0m
test_tree.py::test_regression_toy[absolute_error-DecisionTreeRegressor] [32mPASSED[0m[32m [  3%][0m
test_tree.py::test_regression_toy[absolute_error-ExtraTreeRegressor] [32mPASSED[0m[32m [  3%][0m
test_tree.py::test_regression_toy[friedman_mse-DecisionTreeRegressor] [32mPASSED[0m[32m [  4%][0m
test_tree.py::test_regression_toy[friedman_mse-ExtraTreeRegressor] [32mPASSED[0m[32m [  4%][0m
test_tree.py::test_regression_toy[poisson-DecisionTreeRegressor] [32mPASSED[0m[32m  [  4%][0m
test_tree.py::test_regression_toy[poisson-ExtraTreeRegressor] [32mPASSED[0m[32m     [  4%][0m
test_tree.py::test_xor [32mPASSED[0m[32m                                            [  5%][0m
test_tree.py::test_iris [32mPASSED[0m[32m                                           [  5%][0m
test_tree.py::test_diabetes_overfit[squared_error-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [  5%][0m
test_tree.py::test_diabetes_overfit[squared_error-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [  5%][0m
test_tree.py::test_diabetes_overfit[absolute_error-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [  5%][0m
test_tree.py::test_diabetes_overfit[absolute_error-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [  6%][0m
test_tree.py::test_diabetes_overfit[friedman_mse-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [  6%][0m
test_tree.py::test_diabetes_overfit[friedman_mse-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [  6%][0m
test_tree.py::test_diabetes_overfit[poisson-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [  6%][0m
test_tree.py::test_diabetes_overfit[poisson-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [  7%][0m
test_tree.py::test_diabetes_underfit[squared_error-15-mean_squared_error-60-DecisionTreeRegressor-DecisionTreeRegressor] [33mSKIPPED[0m[32m [  7%][0m
test_tree.py::test_diabetes_underfit[squared_error-15-mean_squared_error-60-ExtraTreeRegressor-ExtraTreeRegressor] [33mSKIPPED[0m[32m [  7%][0m
test_tree.py::test_diabetes_underfit[absolute_error-20-mean_squared_error-60-DecisionTreeRegressor-DecisionTreeRegressor] [33mSKIPPED[0m[32m [  7%][0m
test_tree.py::test_diabetes_underfit[absolute_error-20-mean_squared_error-60-ExtraTreeRegressor-ExtraTreeRegressor] [33mSKIPPED[0m[32m [  7%][0m
test_tree.py::test_diabetes_underfit[friedman_mse-15-mean_squared_error-60-DecisionTreeRegressor-DecisionTreeRegressor] [33mSKIPPED[0m[32m [  8%][0m
test_tree.py::test_diabetes_underfit[friedman_mse-15-mean_squared_error-60-ExtraTreeRegressor-ExtraTreeRegressor] [33mSKIPPED[0m[32m [  8%][0m
test_tree.py::test_diabetes_underfit[poisson-15-mean_poisson_deviance-30-DecisionTreeRegressor-DecisionTreeRegressor] [33mSKIPPED[0m[32m [  8%][0m
test_tree.py::test_diabetes_underfit[poisson-15-mean_poisson_deviance-30-ExtraTreeRegressor-ExtraTreeRegressor] [33mSKIPPED[0m[32m [  8%][0m
test_tree.py::test_probability [32mPASSED[0m[32m                                    [  9%][0m
test_tree.py::test_arrayrepr [32mPASSED[0m[32m                                      [  9%][0m
test_tree.py::test_pure_set [32mPASSED[0m[32m                                       [  9%][0m
test_tree.py::test_numerical_stability [32mPASSED[0m[32m                            [  9%][0m
test_tree.py::test_importances [32mPASSED[0m[32m                                    [ 10%][0m
test_tree.py::test_importances_raises [32mPASSED[0m[32m                             [ 10%][0m
test_tree.py::test_importances_gini_equal_squared_error [32mPASSED[0m[32m           [ 10%][0m
test_tree.py::test_max_features [32mPASSED[0m[32m                                   [ 10%][0m
test_tree.py::test_error [32mPASSED[0m[32m                                          [ 10%][0m
test_tree.py::test_tree_params_validation[params0-ValueError-max_depth == -1, must be >= 1-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 11%][0m
test_tree.py::test_tree_params_validation[params0-ValueError-max_depth == -1, must be >= 1-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 11%][0m
test_tree.py::test_tree_params_validation[params0-ValueError-max_depth == -1, must be >= 1-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 11%][0m
test_tree.py::test_tree_params_validation[params0-ValueError-max_depth == -1, must be >= 1-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 11%][0m
test_tree.py::test_tree_params_validation[params1-TypeError-max_depth must be an instance of int-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 12%][0m
test_tree.py::test_tree_params_validation[params1-TypeError-max_depth must be an instance of int-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 12%][0m
test_tree.py::test_tree_params_validation[params1-TypeError-max_depth must be an instance of int-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 12%][0m
test_tree.py::test_tree_params_validation[params1-TypeError-max_depth must be an instance of int-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 12%][0m
test_tree.py::test_tree_params_validation[params2-ValueError-min_samples_leaf == 0, must be >= 1-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 13%][0m
test_tree.py::test_tree_params_validation[params2-ValueError-min_samples_leaf == 0, must be >= 1-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 13%][0m
test_tree.py::test_tree_params_validation[params2-ValueError-min_samples_leaf == 0, must be >= 1-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 13%][0m
test_tree.py::test_tree_params_validation[params2-ValueError-min_samples_leaf == 0, must be >= 1-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 13%][0m
test_tree.py::test_tree_params_validation[params3-ValueError-min_samples_leaf == 0.0, must be > 0-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 13%][0m
test_tree.py::test_tree_params_validation[params3-ValueError-min_samples_leaf == 0.0, must be > 0-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 14%][0m
test_tree.py::test_tree_params_validation[params3-ValueError-min_samples_leaf == 0.0, must be > 0-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 14%][0m
test_tree.py::test_tree_params_validation[params3-ValueError-min_samples_leaf == 0.0, must be > 0-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 14%][0m
test_tree.py::test_tree_params_validation[params4-TypeError-min_samples_leaf must be an instance of float-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 14%][0m
test_tree.py::test_tree_params_validation[params4-TypeError-min_samples_leaf must be an instance of float-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 15%][0m
test_tree.py::test_tree_params_validation[params4-TypeError-min_samples_leaf must be an instance of float-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 15%][0m
test_tree.py::test_tree_params_validation[params4-TypeError-min_samples_leaf must be an instance of float-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 15%][0m
test_tree.py::test_tree_params_validation[params5-ValueError-min_samples_split == 1, must be >= 2-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 15%][0m
test_tree.py::test_tree_params_validation[params5-ValueError-min_samples_split == 1, must be >= 2-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 15%][0m
test_tree.py::test_tree_params_validation[params5-ValueError-min_samples_split == 1, must be >= 2-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 16%][0m
test_tree.py::test_tree_params_validation[params5-ValueError-min_samples_split == 1, must be >= 2-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 16%][0m
test_tree.py::test_tree_params_validation[params6-ValueError-min_samples_split == 0.0, must be > 0.0-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 16%][0m
test_tree.py::test_tree_params_validation[params6-ValueError-min_samples_split == 0.0, must be > 0.0-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 16%][0m
test_tree.py::test_tree_params_validation[params6-ValueError-min_samples_split == 0.0, must be > 0.0-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 17%][0m
test_tree.py::test_tree_params_validation[params6-ValueError-min_samples_split == 0.0, must be > 0.0-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 17%][0m
test_tree.py::test_tree_params_validation[params7-ValueError-min_samples_split == 1.1, must be <= 1.0-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 17%][0m
test_tree.py::test_tree_params_validation[params7-ValueError-min_samples_split == 1.1, must be <= 1.0-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 17%][0m
test_tree.py::test_tree_params_validation[params7-ValueError-min_samples_split == 1.1, must be <= 1.0-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 18%][0m
test_tree.py::test_tree_params_validation[params7-ValueError-min_samples_split == 1.1, must be <= 1.0-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 18%][0m
test_tree.py::test_tree_params_validation[params8-TypeError-min_samples_split must be an instance of float-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 18%][0m
test_tree.py::test_tree_params_validation[params8-TypeError-min_samples_split must be an instance of float-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 18%][0m
test_tree.py::test_tree_params_validation[params8-TypeError-min_samples_split must be an instance of float-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 18%][0m
test_tree.py::test_tree_params_validation[params8-TypeError-min_samples_split must be an instance of float-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 19%][0m
test_tree.py::test_tree_params_validation[params9-ValueError-min_weight_fraction_leaf == -1, must be >= 0.0-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 19%][0m
test_tree.py::test_tree_params_validation[params9-ValueError-min_weight_fraction_leaf == -1, must be >= 0.0-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 19%][0m
test_tree.py::test_tree_params_validation[params9-ValueError-min_weight_fraction_leaf == -1, must be >= 0.0-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 19%][0m
test_tree.py::test_tree_params_validation[params9-ValueError-min_weight_fraction_leaf == -1, must be >= 0.0-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 20%][0m
test_tree.py::test_tree_params_validation[params10-ValueError-min_weight_fraction_leaf == 0.6, must be <= 0.5-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 20%][0m
test_tree.py::test_tree_params_validation[params10-ValueError-min_weight_fraction_leaf == 0.6, must be <= 0.5-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 20%][0m
test_tree.py::test_tree_params_validation[params10-ValueError-min_weight_fraction_leaf == 0.6, must be <= 0.5-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 20%][0m
test_tree.py::test_tree_params_validation[params10-ValueError-min_weight_fraction_leaf == 0.6, must be <= 0.5-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 21%][0m
test_tree.py::test_tree_params_validation[params11-TypeError-min_weight_fraction_leaf must be an instance of float-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 21%][0m
test_tree.py::test_tree_params_validation[params11-TypeError-min_weight_fraction_leaf must be an instance of float-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 21%][0m
test_tree.py::test_tree_params_validation[params11-TypeError-min_weight_fraction_leaf must be an instance of float-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 21%][0m
test_tree.py::test_tree_params_validation[params11-TypeError-min_weight_fraction_leaf must be an instance of float-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 21%][0m
test_tree.py::test_tree_params_validation[params12-ValueError-max_features == 0, must be >= 1-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 22%][0m
test_tree.py::test_tree_params_validation[params12-ValueError-max_features == 0, must be >= 1-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 22%][0m
test_tree.py::test_tree_params_validation[params12-ValueError-max_features == 0, must be >= 1-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 22%][0m
test_tree.py::test_tree_params_validation[params12-ValueError-max_features == 0, must be >= 1-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 22%][0m
test_tree.py::test_tree_params_validation[params13-ValueError-max_features == 0.0, must be > 0.0-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 23%][0m
test_tree.py::test_tree_params_validation[params13-ValueError-max_features == 0.0, must be > 0.0-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 23%][0m
test_tree.py::test_tree_params_validation[params13-ValueError-max_features == 0.0, must be > 0.0-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 23%][0m
test_tree.py::test_tree_params_validation[params13-ValueError-max_features == 0.0, must be > 0.0-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 23%][0m
test_tree.py::test_tree_params_validation[params14-ValueError-max_features == 1.1, must be <= 1.0-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 23%][0m
test_tree.py::test_tree_params_validation[params14-ValueError-max_features == 1.1, must be <= 1.0-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 24%][0m
test_tree.py::test_tree_params_validation[params14-ValueError-max_features == 1.1, must be <= 1.0-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 24%][0m
test_tree.py::test_tree_params_validation[params14-ValueError-max_features == 1.1, must be <= 1.0-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 24%][0m
test_tree.py::test_tree_params_validation[params15-ValueError-Invalid value for max_features.-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 24%][0m
test_tree.py::test_tree_params_validation[params15-ValueError-Invalid value for max_features.-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 25%][0m
test_tree.py::test_tree_params_validation[params15-ValueError-Invalid value for max_features.-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 25%][0m
test_tree.py::test_tree_params_validation[params15-ValueError-Invalid value for max_features.-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 25%][0m
test_tree.py::test_tree_params_validation[params16-ValueError-max_leaf_nodes == 0, must be >= 2-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 25%][0m
test_tree.py::test_tree_params_validation[params16-ValueError-max_leaf_nodes == 0, must be >= 2-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 26%][0m
test_tree.py::test_tree_params_validation[params16-ValueError-max_leaf_nodes == 0, must be >= 2-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 26%][0m
test_tree.py::test_tree_params_validation[params16-ValueError-max_leaf_nodes == 0, must be >= 2-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 26%][0m
test_tree.py::test_tree_params_validation[params17-TypeError-max_leaf_nodes must be an instance of int-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 26%][0m
test_tree.py::test_tree_params_validation[params17-TypeError-max_leaf_nodes must be an instance of int-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 26%][0m
test_tree.py::test_tree_params_validation[params17-TypeError-max_leaf_nodes must be an instance of int-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 27%][0m
test_tree.py::test_tree_params_validation[params17-TypeError-max_leaf_nodes must be an instance of int-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 27%][0m
test_tree.py::test_tree_params_validation[params18-ValueError-min_impurity_decrease == -1, must be >= 0.0-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 27%][0m
test_tree.py::test_tree_params_validation[params18-ValueError-min_impurity_decrease == -1, must be >= 0.0-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 27%][0m
test_tree.py::test_tree_params_validation[params18-ValueError-min_impurity_decrease == -1, must be >= 0.0-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 28%][0m
test_tree.py::test_tree_params_validation[params18-ValueError-min_impurity_decrease == -1, must be >= 0.0-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 28%][0m
test_tree.py::test_tree_params_validation[params19-TypeError-min_impurity_decrease must be an instance of float-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 28%][0m
test_tree.py::test_tree_params_validation[params19-TypeError-min_impurity_decrease must be an instance of float-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 28%][0m
test_tree.py::test_tree_params_validation[params19-TypeError-min_impurity_decrease must be an instance of float-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 28%][0m
test_tree.py::test_tree_params_validation[params19-TypeError-min_impurity_decrease must be an instance of float-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 29%][0m
test_tree.py::test_tree_params_validation[params20-ValueError-ccp_alpha == -1.0, must be >= 0.0-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 29%][0m
test_tree.py::test_tree_params_validation[params20-ValueError-ccp_alpha == -1.0, must be >= 0.0-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 29%][0m
test_tree.py::test_tree_params_validation[params20-ValueError-ccp_alpha == -1.0, must be >= 0.0-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 29%][0m
test_tree.py::test_tree_params_validation[params20-ValueError-ccp_alpha == -1.0, must be >= 0.0-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 30%][0m
test_tree.py::test_tree_params_validation[params21-TypeError-ccp_alpha must be an instance of float-DecisionTreeClassifier-DecisionTreeClassifier] [32mPASSED[0m[32m [ 30%][0m
test_tree.py::test_tree_params_validation[params21-TypeError-ccp_alpha must be an instance of float-ExtraTreeClassifier-ExtraTreeClassifier] [32mPASSED[0m[32m [ 30%][0m
test_tree.py::test_tree_params_validation[params21-TypeError-ccp_alpha must be an instance of float-DecisionTreeRegressor-DecisionTreeRegressor] [32mPASSED[0m[32m [ 30%][0m
test_tree.py::test_tree_params_validation[params21-TypeError-ccp_alpha must be an instance of float-ExtraTreeRegressor-ExtraTreeRegressor] [32mPASSED[0m[32m [ 31%][0m
test_tree.py::test_min_samples_split [32mPASSED[0m[32m                              [ 31%][0m
test_tree.py::test_min_samples_leaf [32mPASSED[0m[32m                               [ 31%][0m
test_tree.py::test_min_weight_fraction_leaf_on_dense_input[DecisionTreeClassifier] [32mPASSED[0m[32m [ 31%][0m
test_tree.py::test_min_weight_fraction_leaf_on_dense_input[ExtraTreeClassifier] [32mPASSED[0m[32m [ 31%][0m
test_tree.py::test_min_weight_fraction_leaf_on_dense_input[DecisionTreeRegressor] [32mPASSED[0m[32m [ 32%][0m
test_tree.py::test_min_weight_fraction_leaf_on_dense_input[ExtraTreeRegressor] [32mPASSED[0m[32m [ 32%][0m
test_tree.py::test_min_weight_fraction_leaf_on_sparse_input[DecisionTreeClassifier] [32mPASSED[0m[32m [ 32%][0m
test_tree.py::test_min_weight_fraction_leaf_on_sparse_input[DecisionTreeRegressor] [32mPASSED[0m[32m [ 32%][0m
test_tree.py::test_min_weight_fraction_leaf_on_sparse_input[ExtraTreeClassifier] [32mPASSED[0m[32m [ 33%][0m
test_tree.py::test_min_weight_fraction_leaf_on_sparse_input[ExtraTreeRegressor] [32mPASSED[0m[32m [ 33%][0m
test_tree.py::test_min_weight_fraction_leaf_with_min_samples_leaf_on_dense_input[DecisionTreeClassifier] [32mPASSED[0m[32m [ 33%][0m
test_tree.py::test_min_weight_fraction_leaf_with_min_samples_leaf_on_dense_input[ExtraTreeClassifier] [32mPASSED[0m[32m [ 33%][0m
test_tree.py::test_min_weight_fraction_leaf_with_min_samples_leaf_on_dense_input[DecisionTreeRegressor] [32mPASSED[0m[32m [ 34%][0m
test_tree.py::test_min_weight_fraction_leaf_with_min_samples_leaf_on_dense_input[ExtraTreeRegressor] [32mPASSED[0m[32m [ 34%][0m
test_tree.py::test_min_weight_fraction_leaf_with_min_samples_leaf_on_sparse_input[DecisionTreeClassifier] [32mPASSED[0m[32m [ 34%][0m
test_tree.py::test_min_weight_fraction_leaf_with_min_samples_leaf_on_sparse_input[DecisionTreeRegressor] [32mPASSED[0m[32m [ 34%][0m
test_tree.py::test_min_weight_fraction_leaf_with_min_samples_leaf_on_sparse_input[ExtraTreeClassifier] [32mPASSED[0m[32m [ 34%][0m
test_tree.py::test_min_weight_fraction_leaf_with_min_samples_leaf_on_sparse_input[ExtraTreeRegressor] [32mPASSED[0m[32m [ 35%][0m
test_tree.py::test_min_impurity_decrease [32mPASSED[0m[32m                          [ 35%][0m
test_tree.py::test_pickle [32mPASSED[0m[32m                                         [ 35%][0m
test_tree.py::test_multioutput [32mPASSED[0m[32m                                    [ 35%][0m
test_tree.py::test_classes_shape [32mPASSED[0m[32m                                  [ 36%][0m
test_tree.py::test_unbalanced_iris [32mPASSED[0m[32m                                [ 36%][0m
test_tree.py::test_memory_layout [32mPASSED[0m[32m                                  [ 36%][0m
test_tree.py::test_sample_weight [32mPASSED[0m[32m                                  [ 36%][0m
test_tree.py::test_sample_weight_invalid [32mPASSED[0m[32m                          [ 36%][0m
test_tree.py::test_class_weights[DecisionTreeClassifier] [32mPASSED[0m[32m          [ 37%][0m
test_tree.py::test_class_weights[ExtraTreeClassifier] [32mPASSED[0m[32m             [ 37%][0m
test_tree.py::test_class_weight_errors[DecisionTreeClassifier] [32mPASSED[0m[32m    [ 37%][0m
test_tree.py::test_class_weight_errors[ExtraTreeClassifier] [32mPASSED[0m[32m       [ 37%][0m
test_tree.py::test_max_leaf_nodes [32mPASSED[0m[32m                                 [ 38%][0m
test_tree.py::test_max_leaf_nodes_max_depth [32mPASSED[0m[32m                       [ 38%][0m
test_tree.py::test_arrays_persist [32mPASSED[0m[32m                                 [ 38%][0m
test_tree.py::test_only_constant_features [32mPASSED[0m[32m                         [ 38%][0m
test_tree.py::test_behaviour_constant_feature_after_splits [32mPASSED[0m[32m        [ 39%][0m
test_tree.py::test_with_only_one_non_constant_features [32mPASSED[0m[32m            [ 39%][0m
test_tree.py::test_big_input [32mPASSED[0m[32m                                      [ 39%][0m
test_tree.py::test_realloc [32mPASSED[0m[32m                                        [ 39%][0m
test_tree.py::test_huge_allocations [32mPASSED[0m[32m                               [ 39%][0m
test_tree.py::test_sparse_input[clf_small-DecisionTreeClassifier] [32mPASSED[0m[32m [ 40%][0m
test_tree.py::test_sparse_input[clf_small-DecisionTreeRegressor] [32mPASSED[0m[32m  [ 40%][0m
test_tree.py::test_sparse_input[clf_small-ExtraTreeClassifier] [32mPASSED[0m[32m    [ 40%][0m
test_tree.py::test_sparse_input[clf_small-ExtraTreeRegressor] [32mPASSED[0m[32m     [ 40%][0m
test_tree.py::test_sparse_input[toy-DecisionTreeClassifier] [32mPASSED[0m[32m       [ 41%][0m
test_tree.py::test_sparse_input[toy-DecisionTreeRegressor] [32mPASSED[0m[32m        [ 41%][0m
test_tree.py::test_sparse_input[toy-ExtraTreeClassifier] [32mPASSED[0m[32m          [ 41%][0m
test_tree.py::test_sparse_input[toy-ExtraTreeRegressor] [32mPASSED[0m[32m           [ 41%][0m
test_tree.py::test_sparse_input[digits-DecisionTreeClassifier] [32mPASSED[0m[32m    [ 42%][0m
test_tree.py::test_sparse_input[digits-DecisionTreeRegressor] [32mPASSED[0m[32m     [ 42%][0m
test_tree.py::test_sparse_input[digits-ExtraTreeClassifier] [32mPASSED[0m[32m       [ 42%][0m
test_tree.py::test_sparse_input[digits-ExtraTreeRegressor] [32mPASSED[0m[32m        [ 42%][0m
test_tree.py::test_sparse_input[multilabel-DecisionTreeClassifier] [32mPASSED[0m[32m [ 42%][0m
test_tree.py::test_sparse_input[multilabel-DecisionTreeRegressor] [32mPASSED[0m[32m [ 43%][0m
test_tree.py::test_sparse_input[multilabel-ExtraTreeClassifier] [32mPASSED[0m[32m   [ 43%][0m
test_tree.py::test_sparse_input[multilabel-ExtraTreeRegressor] [32mPASSED[0m[32m    [ 43%][0m
test_tree.py::test_sparse_input[sparse-pos-DecisionTreeClassifier] [32mPASSED[0m[32m [ 43%][0m
test_tree.py::test_sparse_input[sparse-pos-DecisionTreeRegressor] [32mPASSED[0m[32m [ 44%][0m
test_tree.py::test_sparse_input[sparse-pos-ExtraTreeClassifier] [32mPASSED[0m[32m   [ 44%][0m
test_tree.py::test_sparse_input[sparse-pos-ExtraTreeRegressor] [32mPASSED[0m[32m    [ 44%][0m
test_tree.py::test_sparse_input[sparse-neg-DecisionTreeClassifier] [32mPASSED[0m[32m [ 44%][0m
test_tree.py::test_sparse_input[sparse-neg-DecisionTreeRegressor] [32mPASSED[0m[32m [ 44%][0m
test_tree.py::test_sparse_input[sparse-neg-ExtraTreeClassifier] [32mPASSED[0m[32m   [ 45%][0m
test_tree.py::test_sparse_input[sparse-neg-ExtraTreeRegressor] [32mPASSED[0m[32m    [ 45%][0m
test_tree.py::test_sparse_input[sparse-mix-DecisionTreeClassifier] [32mPASSED[0m[32m [ 45%][0m
test_tree.py::test_sparse_input[sparse-mix-DecisionTreeRegressor] [32mPASSED[0m[32m [ 45%][0m
test_tree.py::test_sparse_input[sparse-mix-ExtraTreeClassifier] [32mPASSED[0m[32m   [ 46%][0m
test_tree.py::test_sparse_input[sparse-mix-ExtraTreeRegressor] [32mPASSED[0m[32m    [ 46%][0m
test_tree.py::test_sparse_input[zeros-DecisionTreeClassifier] [32mPASSED[0m[32m     [ 46%][0m
test_tree.py::test_sparse_input[zeros-DecisionTreeRegressor] [32mPASSED[0m[32m      [ 46%][0m
test_tree.py::test_sparse_input[zeros-ExtraTreeClassifier] [32mPASSED[0m[32m        [ 47%][0m
test_tree.py::test_sparse_input[zeros-ExtraTreeRegressor] [32mPASSED[0m[32m         [ 47%][0m
test_tree.py::test_sparse_input_reg_trees[diabetes-DecisionTreeRegressor] [32mPASSED[0m[32m [ 47%][0m
test_tree.py::test_sparse_input_reg_trees[diabetes-ExtraTreeRegressor] [32mPASSED[0m[32m [ 47%][0m
test_tree.py::test_sparse_input_reg_trees[reg_small-DecisionTreeRegressor] [32mPASSED[0m[32m [ 47%][0m
test_tree.py::test_sparse_input_reg_trees[reg_small-ExtraTreeRegressor] [32mPASSED[0m[32m [ 48%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-pos-DecisionTreeClassifier] [32mPASSED[0m[32m [ 48%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-pos-DecisionTreeRegressor] [32mPASSED[0m[32m [ 48%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-pos-ExtraTreeClassifier] [32mPASSED[0m[32m [ 48%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-pos-ExtraTreeRegressor] [32mPASSED[0m[32m [ 49%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-neg-DecisionTreeClassifier] [32mPASSED[0m[32m [ 49%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-neg-DecisionTreeRegressor] [32mPASSED[0m[32m [ 49%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-neg-ExtraTreeClassifier] [32mPASSED[0m[32m [ 49%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-neg-ExtraTreeRegressor] [32mPASSED[0m[32m [ 50%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-mix-DecisionTreeClassifier] [32mPASSED[0m[32m [ 50%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-mix-DecisionTreeRegressor] [32mPASSED[0m[32m [ 50%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-mix-ExtraTreeClassifier] [32mPASSED[0m[32m [ 50%][0m
test_tree.py::test_sparse[check_sparse_parameters-sparse-mix-ExtraTreeRegressor] [32mPASSED[0m[32m [ 50%][0m
test_tree.py::test_sparse[check_sparse_parameters-zeros-DecisionTreeClassifier] [32mPASSED[0m[32m [ 51%][0m
test_tree.py::test_sparse[check_sparse_parameters-zeros-DecisionTreeRegressor] [32mPASSED[0m[32m [ 51%][0m
test_tree.py::test_sparse[check_sparse_parameters-zeros-ExtraTreeClassifier] [32mPASSED[0m[32m [ 51%][0m
test_tree.py::test_sparse[check_sparse_parameters-zeros-ExtraTreeRegressor] [32mPASSED[0m[32m [ 51%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-pos-DecisionTreeClassifier] [32mPASSED[0m[32m [ 52%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-pos-DecisionTreeRegressor] [32mPASSED[0m[32m [ 52%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-pos-ExtraTreeClassifier] [32mPASSED[0m[32m [ 52%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-pos-ExtraTreeRegressor] [32mPASSED[0m[32m [ 52%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-neg-DecisionTreeClassifier] [32mPASSED[0m[32m [ 52%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-neg-DecisionTreeRegressor] [32mPASSED[0m[32m [ 53%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-neg-ExtraTreeClassifier] [32mPASSED[0m[32m [ 53%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-neg-ExtraTreeRegressor] [32mPASSED[0m[32m [ 53%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-mix-DecisionTreeClassifier] [32mPASSED[0m[32m [ 53%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-mix-DecisionTreeRegressor] [32mPASSED[0m[32m [ 54%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-mix-ExtraTreeClassifier] [32mPASSED[0m[32m [ 54%][0m
test_tree.py::test_sparse[check_sparse_criterion-sparse-mix-ExtraTreeRegressor] [32mPASSED[0m[32m [ 54%][0m
test_tree.py::test_sparse[check_sparse_criterion-zeros-DecisionTreeClassifier] [32mPASSED[0m[32m [ 54%][0m
test_tree.py::test_sparse[check_sparse_criterion-zeros-DecisionTreeRegressor] [32mPASSED[0m[32m [ 55%][0m
test_tree.py::test_sparse[check_sparse_criterion-zeros-ExtraTreeClassifier] [32mPASSED[0m[32m [ 55%][0m
test_tree.py::test_sparse[check_sparse_criterion-zeros-ExtraTreeRegressor] [32mPASSED[0m[32m [ 55%][0m
test_tree.py::test_explicit_sparse_zeros[DecisionTreeClassifier] [32mPASSED[0m[32m  [ 55%][0m
test_tree.py::test_explicit_sparse_zeros[DecisionTreeRegressor] [32mPASSED[0m[32m   [ 55%][0m
test_tree.py::test_explicit_sparse_zeros[ExtraTreeClassifier] [32mPASSED[0m[32m     [ 56%][0m
test_tree.py::test_explicit_sparse_zeros[ExtraTreeRegressor] [32mPASSED[0m[32m      [ 56%][0m
test_tree.py::test_1d_input[DecisionTreeClassifier] [32mPASSED[0m[32m               [ 56%][0m
test_tree.py::test_1d_input[ExtraTreeClassifier] [32mPASSED[0m[32m                  [ 56%][0m
test_tree.py::test_1d_input[DecisionTreeRegressor] [32mPASSED[0m[32m                [ 57%][0m
test_tree.py::test_1d_input[ExtraTreeRegressor] [32mPASSED[0m[32m                   [ 57%][0m
test_tree.py::test_min_weight_leaf_split_level[DecisionTreeClassifier] [32mPASSED[0m[32m [ 57%][0m
test_tree.py::test_min_weight_leaf_split_level[ExtraTreeClassifier] [32mPASSED[0m[32m [ 57%][0m
test_tree.py::test_min_weight_leaf_split_level[DecisionTreeRegressor] [32mPASSED[0m[32m [ 57%][0m
test_tree.py::test_min_weight_leaf_split_level[ExtraTreeRegressor] [32mPASSED[0m[32m [ 58%][0m
test_tree.py::test_public_apply_all_trees[DecisionTreeClassifier] [32mPASSED[0m[32m [ 58%][0m
test_tree.py::test_public_apply_all_trees[ExtraTreeClassifier] [32mPASSED[0m[32m    [ 58%][0m
test_tree.py::test_public_apply_all_trees[DecisionTreeRegressor] [32mPASSED[0m[32m  [ 58%][0m
test_tree.py::test_public_apply_all_trees[ExtraTreeRegressor] [32mPASSED[0m[32m     [ 59%][0m
test_tree.py::test_public_apply_sparse_trees[DecisionTreeClassifier] [32mPASSED[0m[32m [ 59%][0m
test_tree.py::test_public_apply_sparse_trees[DecisionTreeRegressor] [32mPASSED[0m[32m [ 59%][0m
test_tree.py::test_public_apply_sparse_trees[ExtraTreeClassifier] [32mPASSED[0m[32m [ 59%][0m
test_tree.py::test_public_apply_sparse_trees[ExtraTreeRegressor] [32mPASSED[0m[32m  [ 60%][0m
test_tree.py::test_decision_path_hardcoded [32mPASSED[0m[32m                        [ 60%][0m
test_tree.py::test_decision_path[DecisionTreeClassifier] [32mPASSED[0m[32m          [ 60%][0m
test_tree.py::test_decision_path[ExtraTreeClassifier] [32mPASSED[0m[32m             [ 60%][0m
test_tree.py::test_decision_path[DecisionTreeRegressor] [32mPASSED[0m[32m           [ 60%][0m
test_tree.py::test_decision_path[ExtraTreeRegressor] [32mPASSED[0m[32m              [ 61%][0m
test_tree.py::test_no_sparse_y_support[DecisionTreeClassifier] [32mPASSED[0m[32m    [ 61%][0m
test_tree.py::test_no_sparse_y_support[ExtraTreeClassifier] [32mPASSED[0m[32m       [ 61%][0m
test_tree.py::test_no_sparse_y_support[DecisionTreeRegressor] [32mPASSED[0m[32m     [ 61%][0m
test_tree.py::test_no_sparse_y_support[ExtraTreeRegressor] [32mPASSED[0m[32m        [ 62%][0m
test_tree.py::test_mae [32mPASSED[0m[32m                                            [ 62%][0m
test_tree.py::test_criterion_copy [32mPASSED[0m[32m                                 [ 62%][0m
test_tree.py::test_empty_leaf_infinite_threshold [32mPASSED[0m[32m                  [ 62%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-clf_small-gini] [32mPASSED[0m[32m [ 63%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-clf_small-log_loss] [32mPASSED[0m[32m [ 63%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-digits-gini] [32mPASSED[0m[32m [ 63%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-digits-log_loss] [32mPASSED[0m[32m [ 63%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-iris-gini] [32mPASSED[0m[32m [ 63%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-iris-log_loss] [32mPASSED[0m[32m [ 64%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-multilabel-gini] [32mPASSED[0m[32m [ 64%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-multilabel-log_loss] [32mPASSED[0m[32m [ 64%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-sparse-mix-gini] [32mPASSED[0m[32m [ 64%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-sparse-mix-log_loss] [32mPASSED[0m[32m [ 65%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-sparse-neg-gini] [32mPASSED[0m[32m [ 65%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-sparse-neg-log_loss] [32mPASSED[0m[32m [ 65%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-sparse-pos-gini] [32mPASSED[0m[32m [ 65%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-sparse-pos-log_loss] [32mPASSED[0m[32m [ 65%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-toy-gini] [32mPASSED[0m[32m [ 66%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-toy-log_loss] [32mPASSED[0m[32m [ 66%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-zeros-gini] [32mPASSED[0m[32m [ 66%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[DecisionTreeClassifier-zeros-log_loss] [32mPASSED[0m[32m [ 66%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-clf_small-gini] [32mPASSED[0m[32m [ 67%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-clf_small-log_loss] [32mPASSED[0m[32m [ 67%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-digits-gini] [32mPASSED[0m[32m [ 67%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-digits-log_loss] [32mPASSED[0m[32m [ 67%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-iris-gini] [32mPASSED[0m[32m [ 68%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-iris-log_loss] [32mPASSED[0m[32m [ 68%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-multilabel-gini] [32mPASSED[0m[32m [ 68%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-multilabel-log_loss] [32mPASSED[0m[32m [ 68%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-sparse-mix-gini] [32mPASSED[0m[32m [ 68%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-sparse-mix-log_loss] [32mPASSED[0m[32m [ 69%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-sparse-neg-gini] [32mPASSED[0m[32m [ 69%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-sparse-neg-log_loss] [32mPASSED[0m[32m [ 69%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-sparse-pos-gini] [32mPASSED[0m[32m [ 69%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-sparse-pos-log_loss] [32mPASSED[0m[32m [ 70%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-toy-gini] [32mPASSED[0m[32m [ 70%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-toy-log_loss] [32mPASSED[0m[32m [ 70%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-zeros-gini] [32mPASSED[0m[32m [ 70%][0m
test_tree.py::test_prune_tree_classifier_are_subtrees[ExtraTreeClassifier-zeros-log_loss] [32mPASSED[0m[32m [ 71%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-iris-squared_error] [32mPASSED[0m[32m [ 71%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-iris-absolute_error] [32mPASSED[0m[32m [ 71%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-iris-friedman_mse] [32mPASSED[0m[32m [ 71%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-iris-poisson] [32mPASSED[0m[32m [ 71%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-diabetes-squared_error] [32mPASSED[0m[32m [ 72%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-diabetes-absolute_error] [32mPASSED[0m[32m [ 72%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-diabetes-friedman_mse] [32mPASSED[0m[32m [ 72%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-diabetes-poisson] [32mPASSED[0m[32m [ 72%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-digits-squared_error] [32mPASSED[0m[32m [ 73%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-digits-absolute_error] [32mPASSED[0m[32m [ 73%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-digits-friedman_mse] [32mPASSED[0m[32m [ 73%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-digits-poisson] [32mPASSED[0m[32m [ 73%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-toy-squared_error] [32mPASSED[0m[32m [ 73%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-toy-absolute_error] [32mPASSED[0m[32m [ 74%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-toy-friedman_mse] [32mPASSED[0m[32m [ 74%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-toy-poisson] [32mPASSED[0m[32m [ 74%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-clf_small-squared_error] [32mPASSED[0m[32m [ 74%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-clf_small-absolute_error] [32mPASSED[0m[32m [ 75%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-clf_small-friedman_mse] [32mPASSED[0m[32m [ 75%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-clf_small-poisson] [32mPASSED[0m[32m [ 75%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-reg_small-squared_error] [32mPASSED[0m[32m [ 75%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-reg_small-absolute_error] [32mPASSED[0m[32m [ 76%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-reg_small-friedman_mse] [32mPASSED[0m[32m [ 76%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-reg_small-poisson] [32mPASSED[0m[32m [ 76%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-multilabel-squared_error] [32mPASSED[0m[32m [ 76%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-multilabel-absolute_error] [32mPASSED[0m[32m [ 76%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-multilabel-friedman_mse] [32mPASSED[0m[32m [ 77%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-multilabel-poisson] [32mPASSED[0m[32m [ 77%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-pos-squared_error] [32mPASSED[0m[32m [ 77%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-pos-absolute_error] [32mPASSED[0m[32m [ 77%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-pos-friedman_mse] [32mPASSED[0m[32m [ 78%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-pos-poisson] [32mPASSED[0m[32m [ 78%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-neg-squared_error] [32mPASSED[0m[32m [ 78%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-neg-absolute_error] [32mPASSED[0m[32m [ 78%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-neg-friedman_mse] [32mPASSED[0m[32m [ 78%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-neg-poisson] [32mPASSED[0m[32m [ 79%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-mix-squared_error] [32mPASSED[0m[32m [ 79%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-mix-absolute_error] [32mPASSED[0m[32m [ 79%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-mix-friedman_mse] [32mPASSED[0m[32m [ 79%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-sparse-mix-poisson] [32mPASSED[0m[32m [ 80%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-zeros-squared_error] [32mPASSED[0m[32m [ 80%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-zeros-absolute_error] [32mPASSED[0m[32m [ 80%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-zeros-friedman_mse] [32mPASSED[0m[32m [ 80%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[DecisionTreeRegressor-zeros-poisson] [32mPASSED[0m[32m [ 81%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-iris-squared_error] [32mPASSED[0m[32m [ 81%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-iris-absolute_error] [32mPASSED[0m[32m [ 81%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-iris-friedman_mse] [32mPASSED[0m[32m [ 81%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-iris-poisson] [32mPASSED[0m[32m [ 81%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-diabetes-squared_error] [32mPASSED[0m[32m [ 82%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-diabetes-absolute_error] [32mPASSED[0m[32m [ 82%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-diabetes-friedman_mse] [32mPASSED[0m[32m [ 82%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-diabetes-poisson] [32mPASSED[0m[32m [ 82%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-digits-squared_error] [32mPASSED[0m[32m [ 83%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-digits-absolute_error] [32mPASSED[0m[32m [ 83%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-digits-friedman_mse] [32mPASSED[0m[32m [ 83%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-digits-poisson] [32mPASSED[0m[32m [ 83%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-toy-squared_error] [32mPASSED[0m[32m [ 84%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-toy-absolute_error] [32mPASSED[0m[32m [ 84%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-toy-friedman_mse] [32mPASSED[0m[32m [ 84%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-toy-poisson] [32mPASSED[0m[32m [ 84%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-clf_small-squared_error] [32mPASSED[0m[32m [ 84%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-clf_small-absolute_error] [32mPASSED[0m[32m [ 85%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-clf_small-friedman_mse] [32mPASSED[0m[32m [ 85%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-clf_small-poisson] [32mPASSED[0m[32m [ 85%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-reg_small-squared_error] [32mPASSED[0m[32m [ 85%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-reg_small-absolute_error] [32mPASSED[0m[32m [ 86%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-reg_small-friedman_mse] [32mPASSED[0m[32m [ 86%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-reg_small-poisson] [32mPASSED[0m[32m [ 86%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-multilabel-squared_error] [32mPASSED[0m[32m [ 86%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-multilabel-absolute_error] [32mPASSED[0m[32m [ 86%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-multilabel-friedman_mse] [32mPASSED[0m[32m [ 87%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-multilabel-poisson] [32mPASSED[0m[32m [ 87%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-pos-squared_error] [32mPASSED[0m[32m [ 87%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-pos-absolute_error] [32mPASSED[0m[32m [ 87%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-pos-friedman_mse] [32mPASSED[0m[32m [ 88%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-pos-poisson] [32mPASSED[0m[32m [ 88%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-neg-squared_error] [32mPASSED[0m[32m [ 88%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-neg-absolute_error] [32mPASSED[0m[32m [ 88%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-neg-friedman_mse] [32mPASSED[0m[32m [ 89%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-neg-poisson] [32mPASSED[0m[32m [ 89%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-mix-squared_error] [32mPASSED[0m[32m [ 89%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-mix-absolute_error] [32mPASSED[0m[32m [ 89%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-mix-friedman_mse] [32mPASSED[0m[32m [ 89%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-sparse-mix-poisson] [32mPASSED[0m[32m [ 90%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-zeros-squared_error] [32mPASSED[0m[32m [ 90%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-zeros-absolute_error] [32mPASSED[0m[32m [ 90%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-zeros-friedman_mse] [32mPASSED[0m[32m [ 90%][0m
test_tree.py::test_prune_tree_regression_are_subtrees[ExtraTreeRegressor-zeros-poisson] [32mPASSED[0m[32m [ 91%][0m
test_tree.py::test_prune_single_node_tree [32mPASSED[0m[32m                         [ 91%][0m
test_tree.py::test_apply_path_readonly_all_trees[DecisionTreeClassifier] [32mPASSED[0m[32m [ 91%][0m
test_tree.py::test_apply_path_readonly_all_trees[ExtraTreeClassifier] [32mPASSED[0m[32m [ 91%][0m
test_tree.py::test_apply_path_readonly_all_trees[DecisionTreeRegressor] [32mPASSED[0m[32m [ 92%][0m
test_tree.py::test_apply_path_readonly_all_trees[ExtraTreeRegressor] [32mPASSED[0m[32m [ 92%][0m
test_tree.py::test_balance_property[DecisionTreeRegressor-squared_error] [32mPASSED[0m[32m [ 92%][0m
test_tree.py::test_balance_property[DecisionTreeRegressor-friedman_mse] [32mPASSED[0m[32m [ 92%][0m
test_tree.py::test_balance_property[DecisionTreeRegressor-poisson] [32mPASSED[0m[32m [ 92%][0m
test_tree.py::test_balance_property[ExtraTreeRegressor-squared_error] [32mPASSED[0m[32m [ 93%][0m
test_tree.py::test_balance_property[ExtraTreeRegressor-friedman_mse] [32mPASSED[0m[32m [ 93%][0m
test_tree.py::test_balance_property[ExtraTreeRegressor-poisson] [32mPASSED[0m[32m   [ 93%][0m
test_tree.py::test_poisson_zero_nodes[0] [32mPASSED[0m[32m                          [ 93%][0m
test_tree.py::test_poisson_zero_nodes[1] [32mPASSED[0m[32m                          [ 94%][0m
test_tree.py::test_poisson_zero_nodes[2] [32mPASSED[0m[32m                          [ 94%][0m
test_tree.py::test_poisson_vs_mse [31mFAILED[0m[31m                                 [ 94%][0m
test_tree.py::test_decision_tree_regressor_sample_weight_consistency[squared_error] [32mPASSED[0m[31m [ 94%][0m
test_tree.py::test_decision_tree_regressor_sample_weight_consistency[absolute_error] [32mPASSED[0m[31m [ 94%][0m
test_tree.py::test_decision_tree_regressor_sample_weight_consistency[friedman_mse] [32mPASSED[0m[31m [ 95%][0m
test_tree.py::test_decision_tree_regressor_sample_weight_consistency[poisson] [32mPASSED[0m[31m [ 95%][0m
test_tree.py::test_criterion_entropy_same_as_log_loss[2-DecisionTreeClassifier] [32mPASSED[0m[31m [ 95%][0m
test_tree.py::test_criterion_entropy_same_as_log_loss[2-ExtraTreeClassifier] [32mPASSED[0m[31m [ 95%][0m
test_tree.py::test_criterion_entropy_same_as_log_loss[4-DecisionTreeClassifier] [32mPASSED[0m[31m [ 96%][0m
test_tree.py::test_criterion_entropy_same_as_log_loss[4-ExtraTreeClassifier] [32mPASSED[0m[31m [ 96%][0m
test_tree.py::test_criterion_deprecated[mse-squared_error-DecisionTreeRegressor] [32mPASSED[0m[31m [ 96%][0m
test_tree.py::test_criterion_deprecated[mse-squared_error-ExtraTreeRegressor] [32mPASSED[0m[31m [ 96%][0m
test_tree.py::test_criterion_deprecated[mae-absolute_error-DecisionTreeRegressor] [32mPASSED[0m[31m [ 97%][0m
test_tree.py::test_criterion_deprecated[mae-absolute_error-ExtraTreeRegressor] [32mPASSED[0m[31m [ 97%][0m
test_tree.py::test_n_features_deprecated[DecisionTreeClassifier] [32mPASSED[0m[31m  [ 97%][0m
test_tree.py::test_n_features_deprecated[ExtraTreeClassifier] [32mPASSED[0m[31m     [ 97%][0m
test_tree.py::test_n_features_deprecated[DecisionTreeRegressor] [32mPASSED[0m[31m   [ 97%][0m
test_tree.py::test_n_features_deprecated[ExtraTreeRegressor] [32mPASSED[0m[31m      [ 98%][0m
test_tree.py::test_different_endianness_pickle [32mPASSED[0m[31m                    [ 98%][0m
test_tree.py::test_different_endianness_joblib_pickle [32mPASSED[0m[31m             [ 98%][0m
test_tree.py::test_different_bitness_pickle [32mPASSED[0m[31m                       [ 98%][0m
test_tree.py::test_different_bitness_joblib_pickle [32mPASSED[0m[31m                [ 99%][0m
test_tree.py::test_check_n_classes [32mPASSED[0m[31m                                [ 99%][0m
test_tree.py::test_check_value_ndarray [32mPASSED[0m[31m                            [ 99%][0m
test_tree.py::test_check_node_ndarray [32mPASSED[0m[31m                             [ 99%][0m
test_tree.py::test_max_features_auto_deprecated [32mPASSED[0m[31m                   [100%][0m

=================================== FAILURES ===================================
[31m[1m_____________________________ test_poisson_vs_mse ______________________________[0m

    def test_poisson_vs_mse():
        # For a Poisson distributed target, Poisson loss should give better results
        # than squared error measured in Poisson deviance as metric.
        # We have a similar test, test_poisson(), in
        # sklearn/ensemble/_hist_gradient_boosting/tests/test_gradient_boosting.py
        rng = np.random.RandomState(42)
        n_train, n_test, n_features = 500, 500, 10
        X = datasets.make_low_rank_matrix(
            n_samples=n_train + n_test, n_features=n_features, random_state=rng
        )
        # We create a log-linear Poisson model and downscale coef as it will get
        # exponentiated.
        coef = rng.uniform(low=-2, high=2, size=n_features) / np.max(X, axis=0)
        y = rng.poisson(lam=np.exp(X @ coef))
        X_train, X_test, y_train, y_test = train_test_split(
            X, y, test_size=n_test, random_state=rng
        )
        # We prevent some overfitting by setting min_samples_split=10.
        tree_poi = DecisionTreeRegressor(
            criterion="poisson", min_samples_split=10, random_state=rng
        )
        tree_mse = DecisionTreeRegressor(
            criterion="squared_error", min_samples_split=10, random_state=rng
        )
    
        tree_poi.fit(X_train, y_train)
        tree_mse.fit(X_train, y_train)
        dummy = DummyRegressor(strategy="mean").fit(X_train, y_train)
    
        for X, y, val in [(X_train, y_train, "train"), (X_test, y_test, "test")]:
            metric_poi = mean_poisson_deviance(y, tree_poi.predict(X))
            # squared_error might produce non-positive predictions => clip
            metric_mse = mean_poisson_deviance(y, np.clip(tree_mse.predict(X), 1e-15, None))
            metric_dummy = mean_poisson_deviance(y, dummy.predict(X))
            # As squared_error might correctly predict 0 in train set, its train
            # score can be better than Poisson. This is no longer the case for the
            # test set.
            if val == "test":
                assert metric_poi < 0.5 * metric_mse
>           assert metric_poi < 0.75 * metric_dummy
[1m[31mE           assert 3.660405629444276 < (0.75 * 4.347273810109761)[0m

[1m[31m/lib/python3.10/site-packages/sklearn/tree/tests/test_tree.py[0m:2143: AssertionError
=========================== short test summary info ============================
FAILED test_tree.py::test_poisson_vs_mse - assert 3.660405629444276 < (0.75 *...
[31m================== [31m[1m1 failed[0m, [32m426 passed[0m, [33m11 skipped[0m[31m in 19.86s[0m[31m ==================[0m
